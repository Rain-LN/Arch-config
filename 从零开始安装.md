# 从零开始安装

## 1. 简介

[ArchLinux介绍](https://wiki.archlinuxcn.org/wiki/Arch_Linux)



## 2. 准备工作

### 2.1 我的电脑

- 处理器  Intel(R) Core(TM) i5-5200U CPU @ 2.20GHz

- 显卡 
  
  - Intel Corporation HD Graphics 5500 (rev 09)
  
  - nVidia GM108M [GeForce 930M]

- 内存 8 G

- SSD 512G

### 2.2 下载 Arch Linux 镜像

- [阿里云开源镜像]([archlinux-iso安装包下载_开源镜像站-阿里云](https://mirrors.aliyun.com/archlinux/iso/))

- [官方推荐镜像站列表](https://archlinux.org/download/)

### 2.3 创建安装介质

[启动盘制作](https://wiki.archlinuxcn.org/wiki/U_%E7%9B%98%E5%AE%89%E8%A3%85%E4%BB%8B%E8%B4%A8)



## 3. 开始安装

### 3.1 BIOS引导与系统分区规划

- BIOS引导启动
  
  | 键盘组合键   | 品牌笔记本  |
  | ------- | ------ |
  | 主板品牌    | 启动按键   |
  | 华硕主板    | F2/F12 |
  | 技嘉主板    | F12    |
  | Intel主板 | F12或F2 |
  
  注意: 根据所列的笔记本等设备,品牌常用启动热键会有所不同。
  (注释: 某些笔记本,打出/断开时按住"option"键即A开机自检,进入选择启动方式。)

- 系统分区规划
  
  | 挂载点    | 分区        | 分区类型    | 分区大小   |
  | ------ | --------- | ------- | ------ |
  | /boot  | /dev/sda1 | EFI系统分区 | 1G     |
  | [SWAP] | /dev/sda2 | 交换分区    | 8G     |
  | /      | /dev/sda3 | 根目录     | 剩余所有空间 |
  
  ### 3.2 联网

-  有线连接 ： 插上网线自动连接

- WIFI连接
  
  ```context
  
  ```

- 测试网络连接情况
  
  ```shell
  ping www.baidu.com
  ```

- 更新系统时间
  
  ```shell
  timedatectl
  ```
  
  
  
  ### 3.3 创建硬盘分区

- 使用cfdisk进行分区
  
  ```shell
  cfdisk /dev/sda
  ```
  
  按照分区规划创建分区，注意创建完分区别忘写入。
  
  

- 格式化分区
  
  - 格式化EFI系统分区
    
    ```shell
    mkfs.fat -F32 /dev/sda1
    ```
  
  - 格式化根分区
    
    ```shell
    mkfs.ext4 /dev/sda3
    ```
  
  - 初始化交换分区
    
    ```shell
    mkswap /dev/sda2
    ```

- 挂载分区
  
  - 挂载根分区
    
    ```shell
    mount /dev/sda3 /mnt
    ```
    
    
  
  - 挂载EFI系统分区
    
    ```shell
    mount --mkdir /dev/sda1 /mnt/boot
    ```
  
  - 启用交换分区
    
    ```shell
    swapon /dev/sda2
    ```

### 3.4 开始安装系统

- 切换镜像源
  
  - 安装按国家分列的原始镜像列表
    
    ```shell
    pacman -Sy pacman-mirrorlist
    ```
  
  - 更换并编辑镜像源文件
    
    ```shell
    cp /etc/pacman.d/mirrorlist.pacnew /etc/pacman.d/mirrorlist
    vim /etc/pacman.d/mirrorlist
    ```
    
    将以下内容取消注释，放到镜像文件最前方
    
    ```context
    ## China
    Server = http://mirrors.aliyun.com/archlinux/$repo/os/$arch
    Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch
    Server = http://mirrors.163.com/archlinux/$repo/os/$arch
    Server = http://mirrors.aliyun.com/archlinux/$repo/os/$arch
    Server = https://mirrors.aliyun.com/archlinux/$repo/os/$arch
    Server = http://mirrors.bfsu.edu.cn/archlinux/$repo/os/$arch
    Server = https://mirrors.bfsu.edu.cn/archlinux/$repo/os/$arch
    Server = http://mirrors.cqu.edu.cn/archlinux/$repo/os/$arch
    Server = https://mirrors.cqu.edu.cn/archlinux/$repo/os/$arch
    Server = http://mirrors.hit.edu.cn/archlinux/$repo/os/$arch
    Server = https://mirrors.hit.edu.cn/archlinux/$repo/os/$arch
    Server = http://mirrors.jlu.edu.cn/archlinux/$repo/os/$arch
    Server = https://mirrors.jlu.edu.cn/archlinux/$repo/os/$arch
    Server = http://mirror.lzu.edu.cn/archlinux/$repo/os/$arch
    Server = http://mirrors.neusoft.edu.cn/archlinux/$repo/os/$arch
    Server = https://mirrors.neusoft.edu.cn/archlinux/$repo/os/$arch
    Server = http://mirrors.nju.edu.cn/archlinux/$repo/os/$arch
    Server = https://mirrors.nju.edu.cn/archlinux/$repo/os/$arch
    Server = https://mirrors.njupt.edu.cn/archlinux/$repo/os/$arch
    Server = http://mirror.nyist.edu.cn/archlinux/$repo/os/$arch
    Server = https://mirror.nyist.edu.cn/archlinux/$repo/os/$arch
    Server = https://mirrors.qlu.edu.cn/archlinux/$repo/os/$arch
    Server = http://mirror.redrock.team/archlinux/$repo/os/$arch
    Server = https://mirror.redrock.team/archlinux/$repo/os/$arch
    Server = http://mirrors.shanghaitech.edu.cn/archlinux/$repo/os/$arch
    Server = https://mirrors.shanghaitech.edu.cn/archlinux/$repo/os/$arch
    Server = https://mirrors.sjtug.sjtu.edu.cn/archlinux/$repo/os/$arch
    Server = http://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch
    Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch
    #Server = http://mirrors.ustc.edu.cn/archlinux/$repo/os/$arch
    #Server = https://mirrors.ustc.edu.cn/archlinux/$repo/os/$arch
    #Server = http://mirrors.wsyu.edu.cn/archlinux/$repo/os/$arch
    #Server = https://mirrors.wsyu.edu.cn/archlinux/$repo/os/$arch
    #Server = https://mirrors.xjtu.edu.cn/archlinux/$repo/os/$arch
    #Server = http://mirrors.zju.edu.cn/archlinux/$repo/os/$arch
    ```

- 安装中文密钥包(国内源)
  
  ```shell
  pacman -Sy archlinux-keyring
  ```

- 安装必须软件包
  
  ```shell
  pacstrap -K /mnt base base-devel linux linux-firmware intel-ucode
   dhcpcd NetworkManager man-db sudo gcc grub efibootmgr vim git
  ```



### 3.5 配置系统

- 生成fstab文件
  
  ```shell
  genfstab -U /mnt >> /mnt/etc/fstab
  ```

- 进入新系统配置
  
  - 进入新系统
    
    ```shell
     arch-chroot /mnt
    ```
  
  - 设置时区
    
    ```shell
    ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
    ```
  
  - 本地化设置
  
  - 
  
  - 

- 




































